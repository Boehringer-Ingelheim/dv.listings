<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Communication with DaVinci modules • dv.listings</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Communication with DaVinci modules">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dv.listings</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">4.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Communication_jumping_feature.html">Communication with DaVinci modules</a></li>
    <li><a class="dropdown-item" href="../articles/data_review.html">Data review (experimental feature)</a></li>
    <li><a class="dropdown-item" href="../articles/qc.html">Quality Control</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/qc.html">Quality Control</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Communication with DaVinci modules</h1>
            
      

      <div class="d-none name"><code>Communication_jumping_feature.Rmd</code></div>
    </div>

    
    
<p>The listings module is capable of communicating with other DaVinci
modules like the Patient Profile module from {dv.papo} package.
Communication in this sense means that the listings module sends out a
subject ID which can be received and further processed by other modules.
At the same moment, the tab of a DaVinci app switches to the receiver
module.</p>
<p>The communication feature is optional and can be activated on the
listings module side as follows. Note that there might be also
activation needed on the counter module side (e.g. Patient Profile
module side).</p>
<div class="section level2">
<h2 id="activate-communication-within-listings-module">Activate communication within listings module<a class="anchor" aria-label="anchor" href="#activate-communication-within-listings-module"></a>
</h2>
<p>As a default the <code>receiver_id</code> parameter in the
<code><a href="../reference/mod_listings.html">mod_listings()</a></code> call of your module list definition is set
to <code>NULL</code> which means that the communication functionality is
disabled. To enable switching to another DaVinci module, set
<code>receiver_id</code> to the module ID of your counterpart
module.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Example code of a module list definition to turn the communication
feature on between a listings and a Patient Profile module:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">dv.listings</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1. Create a data list with example data</span></span>
<span><span class="va">data_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  adsl  <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://pharmaverse.github.io/pharmaverseadam/reference/adsl.html" class="external-link">adsl</a></span>,</span>
<span>  adae  <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://pharmaverse.github.io/pharmaverseadam/reference/adae.html" class="external-link">adae</a></span>,</span>
<span>  adtte <span class="op">=</span> <span class="fu">pharmaverseadam</span><span class="fu">::</span><span class="va"><a href="https://pharmaverse.github.io/pharmaverseadam/reference/adtte_onco.html" class="external-link">adtte_onco</a></span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert data to appropriate types</span></span>
<span><span class="va">data_list</span><span class="op">$</span><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_data.html">convert_data</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adsl</span><span class="op">)</span></span>
<span><span class="va">data_list</span><span class="op">$</span><span class="va">adae</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_data.html">convert_data</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adae</span><span class="op">)</span></span>
<span><span class="va">data_list</span><span class="op">$</span><span class="va">adtte</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/convert_data.html">convert_data</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adtte</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assign meaningful labels to data domain names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adsl</span><span class="op">)</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="st">"Subject Level"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adae</span><span class="op">)</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="st">"Adverse Events"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/attributes.html" class="external-link">attributes</a></span><span class="op">(</span><span class="va">data_list</span><span class="op">$</span><span class="va">adtte</span><span class="op">)</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="st">"Time-to-Event"</span></span>
<span></span>
<span><span class="co"># Specify default variables</span></span>
<span><span class="va">default_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  adsl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"STUDYID"</span>, <span class="st">"USUBJID"</span>, <span class="st">"SITEID"</span>, <span class="st">"ARM"</span><span class="op">)</span>,</span>
<span>  adae <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"STUDYID"</span>, <span class="st">"ASTDY"</span>, <span class="st">"AENDT"</span>, <span class="st">"AESER"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Create list of modules - must include listings module and dv.papo module.</span></span>
<span><span class="va">module_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"Exemplary listings"</span> <span class="op">=</span> <span class="fu">dv.listings</span><span class="fu">::</span><span class="fu"><a href="../reference/mod_listings.html">mod_listings</a></span><span class="op">(</span></span>
<span>    module_id <span class="op">=</span> <span class="st">"listings1"</span>,</span>
<span>    dataset_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"adsl"</span>, <span class="st">"adae"</span>, <span class="st">"adtte"</span><span class="op">)</span>,</span>
<span>    default_vars <span class="op">=</span> <span class="va">default_vars</span>,</span>
<span>    receiver_id <span class="op">=</span> <span class="st">"papo1"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="st">"Patient Profile"</span> <span class="op">=</span> <span class="fu">dv.papo</span><span class="fu">::</span><span class="fu">mod_patient_profile</span><span class="op">(</span></span>
<span>    module_id <span class="op">=</span> <span class="st">"papo1"</span>,</span>
<span>    subject_level_dataset_name <span class="op">=</span> <span class="st">"adsl"</span>,</span>
<span>    subjid_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>    summary <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SUBJID"</span>, <span class="st">"SITEID"</span>, <span class="st">"ARM"</span>, <span class="st">"TRTSDT"</span>, <span class="st">"TRTEDT"</span>, <span class="st">"AGE"</span>, <span class="st">"RACE"</span>, <span class="st">"SEX"</span><span class="op">)</span>,</span>
<span>      column_count <span class="op">=</span> <span class="fl">3L</span></span>
<span>    <span class="op">)</span>,</span>
<span>    listings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="st">"Adverse Events"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        dataset <span class="op">=</span> <span class="st">"adae"</span>,</span>
<span>        default_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ASTDT"</span>, <span class="st">"ASTDY"</span>, <span class="st">"AENDT"</span>, <span class="st">"AENDY"</span>, <span class="st">"AEDECOD"</span>, <span class="st">"AESEV"</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    sender_ids <span class="op">=</span> <span class="st">"listings1"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">dv.manager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dv.manager/man/run_app.html" class="external-link">run_app</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"MyData"</span> <span class="op">=</span> <span class="va">data_list</span><span class="op">)</span>,</span>
<span>  module_list <span class="op">=</span> <span class="va">module_list</span>,</span>
<span>  filter_data <span class="op">=</span> <span class="st">"adsl"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Boehringer-Ingelheim Pharma GmbH &amp; Co.KG, Isabel Glauss, Korbinian Matthias, Luis Morís Fernández.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
